Script started on Sun 30 Sep 2018 05:56:34 AM EDT
[?1034hbash-4.2$ date
Sun Sep 30 05:56:37 EDT 2018
bash-4.2$ uname -a
Linux zeus-2 3.10.0-862.11.6.el7.x86_64 #1 SMP Tue Aug 14 21:49:04 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux
bash-4.2$ pwd
/home/aveney2/CS262/Project1_aveney2_201
bash-4.2$ ls
encrypt_decrypt_aveney2_201.c  Makefile  Project1Typescript_aveney2_201
bash-4.2$ make
gcc -g -Wall -O2 -o encrypt_decrypt_aveney2_201 encrypt_decrypt_aveney2_201.c -lm
bash-4.2$ encrypt_decrypt_aveney2_201 E[K7630 ENCRYPT encrypt_decrypt_aveney2_201.c out.enc
bash-4.2$ cat en[Kncrypt_decrypt_aveney2_201.c
// Alexandra Veney G00677630
// CS 262 Lab Section 201
// Project 1

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void encrypt(FILE *plainText, FILE *cypherText);

void decrypt(FILE *cypherText, FILE *plainText);

void checkIfOpen(FILE *file);

int charToCode(char p);

char codeToChar(int c1);

int main (int argc, char* argv[]){

	// Get key int from command line arg
	int key = 0;	
	int *keyPtr = &key; 
	sscanf(argv[1], "%d", keyPtr);	
	
	// Get mode string from command line arg
	char mode[8];
	sscanf(argv[2], "%s", mode);
	
	// Seed random function with key
	srandom(key);

	// Open source file for reading
	FILE *firstFile = fopen(argv[3],"r");	

		// Check if file is opened properly
		checkIfOpen(firstFile);

	// Open/Create destination file for writing
	FILE *secondFile = fopen(argv[4],"w");
		
		// Check if file is opened properly
		checkIfOpen(secondFile);

	// Check mode and perform ENCRYPT or DECRYPT
	if(strcmp(mode, "ENCRYPT") == 0){
		
		// ENCRYPTs file
		encrypt(firstFile, secondFile);	
	
	}else if(strcmp(mode, "DECRYPT") == 0){	
		
		// DECRYPTs file
		decrypt(firstFile, secondFile);

	}else{
		printf("An invalid mode has been entered\n");
		exit(1);
	}
	
	// Close both files	
	fclose(firstFile);
	fclose(secondFile);	
	return 0;
}

void encrypt(FILE *plainText, FILE *cypherText){
	// Encrypts characters from plain text file and places characters
	// into cypher text file
	
	int randomNumber;
	char letter;
	int charCode;
	int newCode;
	char newLetter;

	while((letter = fgetc(plainText)) != EOF){
		randomNumber = random() % 97;	

		// Change all displayable characters to range [0,96]
		charCode = charToCode(letter);
		
		// Randomize character code
		newCode = (charCode + randomNumber) % 97; // modular addition
		
		// Turn all output values into displayable characters
		newLetter = codeToChar(newCode);
	
		fputc(newLetter, cypherText);
	}	
}

void decrypt(FILE *cypherText, FILE *plainText){
	// Decrypts characters from cypher text file and places characters
	// into plain text file
	
	int randomNumber;
	char letter;
	int charCode;
	int newCode;
	char newLetter;

	while((letter = fgetc(cypherText)) != EOF){	
		randomNumber = random() % 97;	
		
		// Change all displayable characters to range [0,96]
		charCode = charToCode(letter);
		
		// Randomize character code
		newCode = (charCode + 97 - randomNumber) % 97; // modular addition
			
		// Turn all output values into displayable characters
		newLetter = codeToChar(newCode);

		fputc(newLetter, plainText);

	}

}

void checkIfOpen(FILE *file){
	// Check if file was opened successfully
	 
	if(file == NULL){
		printf("Something went wrong with opening file\n");
		exit(1);
		}
	
}

int charToCode(char p){
	// Change character to the corresponding code in range [0,96] 
	// FROM: Displayable Character   TO:Coded Number
	
	int p1;
	
	if(p == '\t'){
		p1 = 0;
	}else if(p == '\n'){
		p1 = 1;
	}else{
		p1 = p - 30;
	}

	return p1;

}

char codeToChar(int c1){

	// Change code  from [0,96] to the corresponding character
	// FROM: Coded Number          TO:Displayable Character	
	
	char c;
	
	if(c1 == 0){
		c = '\t';
	}else if(c1 == 1){
		c = '\n';
	}else{
		c = c1 + 30;
	}

	return c;

}
bash-4.2$ cat out.enc[K[K[K[K.enc 
kVVa#gp; l1\n)C~PyB	%<2K k@,ud!q]90e	Y-f/.U.$v_2"{!ZINzQ FnY'8[6(&7;L6?'awj@A
B! *@Sr9Ds:-g2~dg,4Eus>D"Z05s_QD\\,Y`'V?(`Xy)_L'}RgW@J<*>I;
R4|o"0x~*JK,mI]:]$8c`S
}3OeIA"{%hplJw{fL0|\Dj|&c)xl5&r<idvE)fQ/ax8?{O)-' VND(nm;JycQ^!OYv NSgWZ+6hD,?*7}^8;
]21Ez#!zo|(yVlC<mp<5P*jQ=VtNb@gpXe>iy(/C'pN5_%GZyJ$:V(=wl9xZS>`'y{ui<#6cRR8hV%4o`\C.,xx*kQ`:M)XO21dq]]9p0
Ell_)q(-hGZ.-A\:o:Iz 
7H-ztP1w5XMLN	9,@CwNE:02RK`8e3 VS't>@~D-~x)f9
Mwa=7MFRf`/T,;]Xmw(.~8:HE?0\D`YJ=g*eR-ybg_z }CaqD{JK@w
ycb&eV}8ypMpCSy2^<`"KCzw/pUiM|&\B|]+|XHf2}ZugtdOO=$AY=jwpPqjqXaPqz^%q}QNVwes[C1sE\F^KA/N2:3vm3RPo!LQVu	u0}Ny\5|=/y3"=
a Bu2VZU$U-nM"+ft,1RVxy%@d%BD\7\aht{^KjA:a+5|)U7D\|o>
/}G2\7B/37>)	e	.-j4Y6=tya"<1_2x.M*v?TLq
|pjuyb<yH<T1fW{g\*2+!X]fKp@@Yj86xXqqFEPKR7T%=/7*J,Mn&+UGu/@ZR+?$%F@1	yV5aMoKW!AA6y8~nOw;9<5~)?
uOkkCbc\WJ^YV=mJCZx!6OD!q|F[o4:+D8*dM%q7!ki	ls{KOk
1[QI'}t*H0wfXTRQ[XV	hP(i/wT uby-Y"Z~9ek
jFsKe|7]G&2{({9=($m?:{hm=sL4+?
$f!I(/"6:Aeb2D]]x~\^3,bt25a*(\P|'UmJLhl0TH0@zC(V.I
uq*p	Gw<:2+I=u<jq214&bZ,V[56uZ@5Ii_2c_hdbW* ~I:fpVG0]wp#S'-o.XKt/9I1Y JCw"i"\&7!
b?^{qfP/
>z&W!-c;0v`(MfM
E/U=Mg"?*?@=K!lq@%71hF~
yTF=`*9RL*U_d\8}=(P^4KjzeUCm_vufsC?A|:Qkv|zZd=sB]+D9hI	m1_JI0UP2qJA}x@
%@Cd>M-jVWOcC4JHwGK;F^i
Dsz|24}1R	at
9kXRwu3=OEg7i
g{]iF9lT_"vx4Sk"0k{tPk#wLLX>ujfFAr&, nN"Vpn7D377\<7`br@~B(;u	8d09H+T@qh;k7N|"@''A!	m_x0!YW\oqfR}{Lq$FKgoy)gsT/.'bDm Q4`Uu h&R*QSkzM*/zabPUuLyin$l3;Pl!CC*~'C2m$_$s 2`p\!B.b77ul[5-=NXx2<U9&Njg.bO7UATMm{X#(;&843kf\aP-T3]hXoCsU5D:_Z-p]%[?ydH|%fCiV:7GweNHA4r=yF8f9LT^:Mj#Cb]g>(4,rR<%_sGaLE.TiU2z=>#2{h^Q4Bp|d<?\[\a"?WWT1ML1:2p*aj9%tE L3^^2@^~rMby`9x?3QsB:M`a	Od~1+%k<l!\yOi"7QejH,V~sMB "\33&<IwRh#Mmj1V9tET=L=vS$%i]_DtP1C&Ov p']Y&labJ*D%fV>7:![xGH%'XA%O])Lf~y~sn
)pY	r^c+Uiiq4~i	CswSUm:}YdRe%j?#;{D^taY?3xhsI=\Zn=N|W]dO@ei~N|J,@)tZl2$L.Yo(M^;{1wTs.,f%o_7jlXYlz%kNf;))2Aah-FrIX4M!;`E[O\e&pBk>|ozgE56+7be}VS
AFs\
\NHJMZRLio0-560f6Y,2q}k3<Ued^A,5Zf[gjL[7qZ&CymFH	_l;	dCmP;[GG4
98"4Duh\c	j}c6'na]U+&dnk_3WH(tU?g~	J)m3L7?a@ZE6(DzTR!je=k> iKZOwYa_VP'9ESfWD=:\R.`X>VmC+?Lm 8UEF"c7I	uh^KS~(c$*5*Mm!$L^w/MTuE&<_6>7\sk:pXW5XAh2&Vs	b`-3=W	EpPva2OC|L;llY|9-RY46|Pt(+&Lrng"6oz&pW}-Ie@V\fA(0h_~*?"UxB&h6V'953qD(![w
I4%L~6VF:
a'
Dx{%y]5NqTVK?w52D- F3M,:pe<foI|\c)@uMCCE_uY?=zh:T;pNOrn]d%Np9_sHy_IYm	UJ.rzXl&&$7d/zr"@fG?rrBfgb<+3F/{7d(,e$;nJ;[T	C\}!'<B3p|<\n"#Il:sRL"${w.7WA/{:j	ZX59;drLkO7z8oQ:,J8Js	87^9^0"Z+|_<uG]G'SdekO+d^2Ns"mMISV<%g""CY;oCL C`'UO`CEGyB'8EUSB~P)`\1-Sx<bV\dI+wAe1/>)Y)t9`dIuD'd?SI[V6<yCPb6)D$$U.RuR$Ml-[71E(L-|v'-x\
]\691	:*[]\Y?84Fa"=9adn;MAGiYQUIrR}qOAf;:&K#{kyF_74_%~F":lTse+sD!+
&k;{6?WvLXhP6z
]wy9q|9Uj!_
}%`DowXNDFQF/ XjH2U+YMr_,>K|u[`-c/Gne@E,gV$PL|\-~'Y.t#(q{@
w-.'Cd3^ZS9psy'TG#/"nQyQ	>C<@~sRKI`1<1WXwA2=#Fp6YOicLvFa8CLd'*	se;T4
RMFpNVEU4u_,aEX%7l[Q.3!#EAlx9<SBq)3@N`/B=6nHVrO:-d?Q+[_x'5
yD`~GZm^#-$V|Wr7F	7xA,:H/Vi9,1q_t,"md$w0WT	r2sfi?orH+HWOPl@94b9I
mYyK%|:`<L=5\"l)(8"pP$sv%L0W,c"cV|U~Wv{ly
pwbHd,.u(}MBZ1
8H^PAbE//hBSJK1PPmSr6I|-Pc+lH52jy5w`"}4E&z(eg=6S'8@df+i8YC;X_KXDx]naptRpd.R|0U..*O!ms#Ujn8s
r@(7f),[$wmCs>pBv>1J!VfI9GrGpTH0d71I	V7?<4KYQRnvQ5vKN`cpO10b5l3L7>~cxe/yx(vC3tT!oI;H$s_@!@#'v{\` ]kIBT]p*LQ[g,r5)vrwv"B=0tSUk]x$8g=Km (~vYDk'+[N`jQq92/nd:+U?"BEnfL(FsNJ?_Iv+FRviN% c;;EsC{>0T@q_4Fl=+y;llH1BL*-YmUy3NJP%kT%64a%`LyI2..,eHX5k#D)//l,b9={
,8OS7{Z34tGc"U*a[/	#+2d:560:~?]:,L*,jA#>bash-4.2$ encrypt_decrypt_aveney2_201 7630 DECRYPT out.end[Kc out.txt
bash-4.2$ diff encrypt_decrypt_aveney2_201.c out.txt 
bash-4.2$ exit

Script done on Sun 30 Sep 2018 05:59:36 AM EDT
